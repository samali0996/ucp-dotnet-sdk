{
  "title": "UCP Service",
  "description": "Service binding for a specific transport. Each transport binding is a separate entry in the service array.",
  "$defs": {
        "base": {
      "allOf": [
        { "$ref": "ucp.json#/$defs/entity" },
        {
          "type": "object",
          "required": ["transport"],
          "properties": {
            "transport": {
              "type": "string",
              "enum": ["rest", "mcp", "a2a", "embedded"],
              "description": "Transport protocol for this service binding."
            },
            "endpoint": {
              "type": "string",
              "format": "uri",
              "description": "Endpoint URL for this transport binding."
            }
          }
        }
      ]
    },
    "platform_schema": {
      "$ref": "#/$defs/base",
      "required": [
        "spec"
      ],
      "anyOf": [
        {
          "properties": {
            "transport": {
              "const": "rest"
            }
          },
          "required": [
            "schema",
            "endpoint"
          ]
        },
        {
          "properties": {
            "transport": {
              "const": "mcp"
            }
          },
          "required": [
            "schema",
            "endpoint"
          ]
        },
        {
          "properties": {
            "transport": {
              "const": "a2a"
            }
          },
          "required": [
            "endpoint"
          ]
        },
        {
          "properties": {
            "transport": {
              "const": "embedded"
            }
          },
          "required": [
            "schema"
          ]
        }
      ],
      "title": "Service (Platform Schema)",
      "description": "Full service declaration for platform-level discovery. Different transports require different fields."
    },
    "business_schema": {
      "$ref": "#/$defs/base",
      "anyOf": [
        {
          "properties": {
            "transport": {
              "const": "rest"
            }
          },
          "required": [
            "endpoint"
          ]
        },
        {
          "properties": {
            "transport": {
              "const": "mcp"
            }
          },
          "required": [
            "endpoint"
          ]
        },
        {
          "properties": {
            "transport": {
              "const": "a2a"
            }
          },
          "required": [
            "endpoint"
          ]
        },
        {
          "properties": {
            "transport": {
              "const": "embedded"
            },
            "config": {
              "$ref": "transports/embedded_config.json"
            }
          }
        }
      ],
      "title": "Service (Business Schema)",
      "description": "Service binding for business/merchant configuration. May override platform endpoints."
    },
    "response_schema": {
      "$ref": "#/$defs/base",
      "anyOf": [
        {
          "properties": {
            "transport": {
              "const": "rest"
            }
          }
        },
        {
          "properties": {
            "transport": {
              "const": "mcp"
            }
          }
        },
        {
          "properties": {
            "transport": {
              "const": "a2a"
            }
          }
        },
        {
          "properties": {
            "transport": {
              "const": "embedded"
            },
            "config": {
              "$ref": "transports/embedded_config.json"
            }
          }
        }
      ],
      "title": "Service (Response Schema)",
      "description": "Service binding in API responses. Includes per-resource transport configuration via typed config."
    }
  }
}